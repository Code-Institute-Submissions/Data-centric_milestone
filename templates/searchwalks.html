{% extends "base.html" %}
{% block content %}
{{ filterform.csrf_token }}
<section class="container-fluid">
    <div class="row">
        <!-- Top image and search form-->
        <div class="index-header col-12">
            <h1 class="display-4">Hello, world!</h1>
        </div>
    </div>
</section>
<form class="container-fluid" method="POST" action="{{ url_for('search') }}">
    <div class="row search-box">
        <div class="col-12">
            {{ filterform.query(class="form-control mr-sm-2") }}
        </div>
        <div class="form-group col-sm-12 col-md-6">
            {{ filterform.category_name.label }}
            {{ filterform.category_name }}
        </div>
        <div class="form-group col-sm-12 col-md-6">
            {{ filterform.difficulty.label }}
            {{ filterform.difficulty }}
        </div>
        <div
            class="form-group custom-control custom-switch col-12 col-md-4 slider-padding">
            {{ filterform.dogs_allowed }}
            {{ filterform.dogs_allowed.label(class="custom-control-label") }}
        </div>
        <!-- Free parking checkbox-->
        <div
            class="form-group custom-control custom-switch col-12 col-md-4 slider-padding">
            {{ filterform.free_parking }}
            {{ filterform.free_parking.label(class="custom-control-label") }}
        </div>
        <!--paid parking checkbox-->
        <div
            class="form-group custom-control custom-switch col-12 col-md-4 slider-padding">
            {{ filterform.paid_parking }}
            {{ filterform.paid_parking.label(class="custom-control-label") }}
        </div>
        <button class="btn btn-success my-2 my-sm-0"
            type="submit">Search</button>
    </div>
</form>
<section class="container">
    <div class="row">
        {% with messages = get_flashed_messages(category_filter =["error"]) %}
        {% if messages %}
        {% for message in messages %}
        <div class="col-12 d-flex justify-content-center">
            <h3>{{ message }}</h3>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
        {% for route in routes %}
        <div class=" col-lg-4 col-md-6 col-sm-12 feature-walk">
            <a href="{{ url_for('show_walk',route_id=route._id) }}">
                <h5 class="overlay-text">{{route.title}}</h5>
                <div class="full-text">
                    <h5>{{route.title}}</h5>
                    <p>{{route.difficulty}}</p>
                    <p>{{route.time}}</p>
                    <p>Posted by: {{route.user}}</p>
                </div>
                <div class="square mb-2">
                    <img src="{{ route.imageUrl }}">
                    <div class="overlay"></div>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
</section>
<section class="container">
    <div class="row">
        <article class="col-sm-12 col-md-6 box-space">
            <div class="click-box box image-2">
                <h3 class="click-box">Walking Tips<i
                        class="fas fa-angle-right"></i>
                </h3>
            </div>
        </article>
        <article class="col-sm-12 col-md-6 box-space">
            <div class="click-box box image-1">
                <h3 class="click-box">Sign Up<i class="fas fa-angle-right"></i>
                </h3>
            </div>
        </article>
    </div>
</section>
{% endblock %}